---
title: "리눅스 - mount"
category:
  - linux
tag:
  - linux
  - mount
toc: true
toc_sticky: true
---

# 현재 시스템이 지원하는 파일 시스템 확인하기

```
cat proc/filesystem
```

![1](/assets/images/2020-02-26-리눅스-mount/1.PNG)

nodev의 의미 : 해당 파일이 블록 장치(디스크)와 연결되어 있지 않다. 가상 파일 시스템을 의미한다.

# 스왑 파티션 관리하기

스왑 파티션 : 메모리 영역으로 사용하기 위해 할당한 디스크 영역. 메모리 용량이 모자랄 경우, HDD 등의 저장 공간에 스왑 파티션을 만들어서, 추가 메모리 영역처럼 사용한다.

## 현재 스왑 영역 확인하기

```
swapon -s
```

![2](/assets/images/2020-02-26-리눅스-mount/2.PNG)

## 새로운 디스크 파티션을 스왑 영역으로 추가하기

① fdisk로 디스크에 스왑 파티션 생성.
 
② 
 
③ 
 
④ 
 
⑤ 

## 기본 파티션에 스왑 파일 추가하기

①②③④⑤⑥

# ext4 파일 시스템 구조



|블록 그룹 0| |그룹 0<br>패딩|ext4<br>슈퍼블록|그룹<br>디스크립터|GDT<br>예약 블록|데이터<br>블록<br>비트맵|inode<br>비트맵|inode<br>테이블|데이터 블록|
|블록 그룹 a| ||ext4<br>슈퍼블록|그룹<br>디스크립터|GDT<br>예약 블록|데이터<br>블록<br>비트맵|inode<br>비트맵|inode<br>테이블|데이터 블록|
|블록 그룹 b| |||||데이터<br>블록<br>비트맵|inode<br>비트맵|inode<br>테이블|데이터 블록|

















#

~~~
mount [옵션] 장치명 마운트포인트
파일 시스템을 마운트한다.
-t : 파일시스템 종류 : 파일 시스템의 종류를 지정한다.
-o : 마운트 옵션 : 마운트 옵션을 지정한다.
-f : 마운트할 수 있는지 점검한 한다.
-r : 읽기만 가능하게 마운트한다.
~~~

~~~
umount [옵션] 장치명 or 마운트포인트
-t 파일시스템 종류 : 파일시스템의 종류를 지정한다.
~~~

##

디스크 추가 단계 : 새 디스크 장착하기→디스크 파티션 나누기→파티션에 파일시스템 생성하기(포맷)→디스크마운트
가상머신 : SCSI, SATA, IDE
파티션 : 하나의 디스크를 독립된 영역으로 구분하는 것
숫자가 붙지 않으면 디스크 장치 전체를 가리키고, 숫자가 붙을 경우 해당 디스크의 구분된 각 타피션을 뜻한다. 디스크 전체를 하나의 파티션으로 사용하려고 할 때도 파티션 작업은 반드시 해야한다.

#

디스크 파티션 나누기 fdisk
파일시스템 생성 mkfs, mke2fs
디스크 마운트 mount /dev/sdb1/mnt

~~~
fdisk [옵션] 장치명
디스크의 파티션 생성, 삭제, 보기 등 파티션을 관리한다.
-b <크기> : 섹터 크기를 지정한다(512,1024,2048,4096).
-l : 파티션 테이블을 출력한다.
~~~

~~~
리눅스 파일 시스템을 만든다
-t 종류 : 파일 시스템의 종류를 지정한다.(기본 값은 ext2)
~~~

~~~
ㅡmke2fs [옵션] 장ㅇ치명
리눅스 개정판 확장 파일 시스템(ext2, ext3, ext4)을 만든다.
-t 종류 : 파일 시스템의 종류를 지정한다.
-b 블록 크기 : 블록 크기를 바이트 수로 지정한다.
-c : 배드 블록을 체크한다.
-f : 프래그먼트 크기 : 프래그먼트 크기를 바이트 수로 지정한다.
-i inode당 바이트 수 : inode당 바이트 수르를 지정한다. 기본값은 4096바이트다.
-m 예약 블록 퍼센트 : 슈퍼유저에게 예약해둘 블록의 퍼센트를 지정한다. 기본값은 5%이다.
~~~

#

디스크 사용량 확인 : df, du
파일 시스템 검사 및 복구 : e2fsck, fsck

~~~
df [옵션] [파일 시스템]
디스크의 남은 공간에 대한 정보를 출력한다.
-a : 모든 파일 시스템을 대상으로 디스크 사용량을 확인한다.
-k : 디스크 사용량을 KB단위로 출력한다.
-m : 디스크 사용량을 MB단위로 출력한다.
-h : 디스크 사용량을 알기 쉬운 단위(GB, MB, KB 등)로 출력한다.
-t 파일시스템 종류 : 지정한 파일시슷템의 종류에 해당하는 디스크 사용량을 출력한다.
-T : 파일 시스템의 종류도 출력한다.
~~~

~~~
du [옵션] [디렉터리]
디스크의 사용 공간에 대한 정보를 출력한다.
-s : 특정 디렉터리의 전체 사용량을 출력한다.
-h : 디스크 사용량을 알기 쉬운 단위(GB, MB, KB 등)로 출력한다.
~~~

~~~
fsck [옵션] 장치명
리눅스의 파일시스템을 검사한다.
-f : 강제 점검한다.
-b 슈퍼블록 : 지정한 백업 슈퍼블록을 사용한다.
-y : 모든 질문에 yes로 대답하게 한다.
-a : 파일시스템 검사에서 문제가 발생했을 때 자동으로 복구한다.
~~~

기본적으로 /etc/fstab에 지정된 파일시스템을 대상으로 한다.

~~~
e2fsck [옵션] 장치명
리눅스의 확장 파일 시스템(ext2, ext3, ext4)을 검사한다.
-f : 강제 점검한다.
-b 슈퍼블록 : 지정한 백업 슈퍼블록을 사용한다.
-y : 모든 질문에 yes로 대답하게 한다.
-j ext3/ext4 : ext3나 ext4 파일시스템을 검사할 때 지정한다.
~~~

#
~~~

~~~

#
~~~

~~~

#
~~~

~~~
