---
title: "리눅스 - 네트워크 설정"
category:
  - linux
tag:
  - linux
  - network
toc: true
toc_sticky: true
---

/etc/services : 이 파일의 역할은 각 서비스 별로 포트 번호가 무엇인지를 정의하는 것이다. 이 포트 번호는 국제 표준으로 합의하여 사용하고 있는 것이며, 사용자가 개발한 네트워크 프로그램은 이 파일에 정의되지 않은 번호를 사용하여 서비스를 제공할 수 있다.

#호스트 이름 확인 및 설정하기 uname -n, hostname
~~~
uname [옵션]
시스템 정보를 출력한다.
-m : 하드웨어 종류를 출력한다.
-n : 호스트 이름을 출력한다.
-r : 운영체제의 릴리즈 정보를 출력한다.
-s : 운영체제의 이름을 출력한다.
-v : 운영체제의 버전을 출력한다.
-a : 위의 모든 정보를 출력한다.
~~~
~~~
hostname [호스트 이름]
호스트 이름을 출력하거나 설정한다.
~~~
##호스트 이름 설정 파일
/etc/hostname
이 파일은 단순하게 도메일 이름을 포함한 호스트 이름만 저장하고 있다. 이 파일의 내용은 수정 가능하다.
호스트 이름을 새로 정의할 때는 한 네트워크에서 같은 이름을 사용하는 다른 호스트가 있으면 안 된다는 것을 꼭 기억해야 한다. 따라서 사용자가 임의로 호스트 이름을 수정하면 안 되고 반드시 시스템 관리자와 상의해야 한다.

#네트워크 인터페이스 설정하기
~~~
ifconfig [인터페이스명] [옵션] [값]
네트워크 인터페이스 IP 주소를 설정한다.
-a : 시스템의 전체 인터페이스에 대한 정보를 출력한다.
up/down : 인터페이스를 활성화/비활성화한다.
netmask 주소 : 넷마스크 주소를 설정한다.
broadcast 주소 : 브로드캐스트 주소를 설정한다.
~~~
##현재 설치된 네트워크 인터페이스 설정 확인하기: ifconfig
##특정 네트워크 인터페이스 설정 확인하기: ifconfig eth0
##네트워크 인터페이스 사용 해제하기: ifconfig eth0 down
##네트워크 인터페이스 활성화: ifconfig eth0 up
##네트워크 인터페이스 설정하기
ifconfig 인터페이스 IP주소 netmask 넷마스크주소 broadcast 브로드캐스트주소
sudo ifconfig eth0 192.168.0.2 netmask 255.255.255.0
##네트워크 인터페이스 설정을 파일에 저장하기
cat /etc/network/interfaces

#게이트웨이 설정하기
~~~
route 명령
라우팅 테이블을 편집하고 출력한다.
add : 라우팅 경로나 기본 게이트웨이를 추가한다.
del : 라우팅 경로나 기본 게이트웨이를 삭제한다.
~~~
##라우팅 테이블 보기: route
##route명령으로 라우팅 테이블 편집하기

#DNS 설정하기
~~~
nslookup [도메인명]
DNS서버와 대화식으로 질의하고 응답을 받는다.
~~~
##DNS 서버 지정하기
cat /etc/resolv.conf
##DNS 서버에 질의하기
nslookup www.google.com

#네트워크 상태 확인
##통신 확인하기
~~~
ping [옵션] 목적지주소
네트워크 자입에 신호(ECHO_REQUEST)를 보낸다.
-a : 통신이 되면 소리를 낸다.
-q : 테스트 결과를 지속적으로 보여주지 않고 종합 결과만 출력한다.
-c 패킷 수 : 보낼 패킷 수를 지정한다.
~~~
##통신 경로 확인하기
~~~
traceroute 목적지주소
목적지까지 패킷이 거치는 경로를 확인한다.
~~~
###정상으로 경로가 확인되는 경우와 확인되지 않는 경우
##네트워크 상태 정보 출력하기
~~~
netstat [옵션]
네트워크의 상태 정보를 출력한다.
-a : 모든 소켓 정보를 출력한다.
-r : 라우팅 정보를 출력한다.
-n : 호스트 이름 대신 IP 주소를 출력한다.
-i : 모든 네트워크 인터페이스 정보를 출력한다.
-s : 프로토콜별로 네트워크 통계 정보를 출력한다.
-p : 해당 소켓과 관련된 프로세스의 이름과 PID를 출력한다.
~~~
###netstat 명령을 대체하는 다른 명령들
이 명령들은 좀 더 요약된 정보를 보여준다.
ss : 소켓 통계 명령으로 ss -p, ss-l, ss-a 등의 옵션을 사용하여 통계 정보를 볼 수 있다.
ip route : 라우팅 정보를 출력한다.
ip -s link : netstat -i처럼 네트워크 통계 정보를 출력한다.
##MAC주소와 IP주소를 확인하기
~~~
arp [IP주소]
ARP 캐시 정보를 관리한다.
~~~
##패킷 캡처하기
~~~
tcpdump [옵션]
네트워크상의 트래픽을 덤프한다.
-c 패킷 수 : 지정한 수만큼 덤프 받고 종료한다.
-i 인터페이스명 : 특정 인터페이스를 지정한다.
-n : IP주소를 호스트 이름으로 바꾸지 않는다.
-q : 정보를 간단한 형태로 보여준다.
-X : 패킷의 내용을 16진수와 ASCII로 출력한다.
-w 파일명 : 덤프한 내용을 지정한 파일에 저장한다.
-r 파일명 : 덤프를 저장한 파일에서 읽어온다.
host 호스트이름 또는 주소 : 해당 호스트가 받거나 보낸 패킷만 덤프한다.
tcp port 번호 : 지정한 포트 번호의 패킷만 덤프한다.
ip : IP패킷만 덤프한다.
~~~
